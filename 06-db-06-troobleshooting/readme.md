# Домашнее задание к занятию "6.6. Troubleshooting"
## Задание 1 `MongoDB`
Опеределить текущую операцию можно при помощи `db.currentOp()`
```SQL
db.currentOp().inprog.forEach(function (op) {
  if (op.secs_running > 100) printjson(op);
});
```
Завершить запрос можно с помощью ключа `db.killOp()`
```SQL
db.killOp(op.opid);
```
Для оптимизация таких запросов можно применить следующие патерны
 - постороить/перестроить соответствующий индекс
 - Добавлять к запросам метод `maxTimeMS` для автоматического вызова `db.killOp()`
 ## Задача 2 `Redis`
 Для диагносттики Redis  в данной ситуации следует произвести следующие операции
  - с помощь `redis-cli` проверить показатель `latency`, а также задержки на самой машине
  - проверить `slowlog ` на наличие медленных запросов
  - проверить задержки на уровне сети
  ## Задание 3 `MySQL`
  данная проблема вызвана большим временем обработки запроса, после чего соединение пррывается по таймауту. Решение:
  - Увеличить значение параметров : connect_timeout, interactive_timeout, wait_timeout
  - Оптимизация запросов
  - Шадрирование больших таблиц
  - Индексация
  - Добавление ресурсов хосту
  ## Задание 4 `PostgreSQL`
  `oom-killer` это системный процесс, служащий для того что бы убивая процессы потребляющие слишком много оперативной памяти, сохранить работоспособность операционной системы. Решением может быть как увеличение объема памяти хоста, так и настройка на ограниченное использование ресуросв ОЗУ для postgres
